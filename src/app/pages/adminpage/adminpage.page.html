<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Panel de Administración</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-segment [(ngModel)]="currentView">
    <ion-segment-button value="list">
      <ion-label>Lista de Publicaciones</ion-label>
    </ion-segment-button>
    <ion-segment-button value="add">
      <ion-label>Agregar Publicación</ion-label>
    </ion-segment-button>
  </ion-segment>
  <!-- ADMINISTRAR POST -->
  <div *ngIf="currentView === 'list'">
    <ion-list>
      <ion-item-sliding *ngFor="let post of posts; let i = index">
        <ion-item>
          <ion-label>
            <h2>{{ post.title }}</h2>
            <p>{{ post.author }} - {{ post.date | date:'short' }}</p>
          </ion-label>
        </ion-item>
        <ion-item-options side="end">
          <ion-item-option color="primary" (click)="editPost(i)">
            <ion-icon slot="icon-only" name="create-outline"></ion-icon>
          </ion-item-option>
          <ion-item-option color="danger" (click)="deletePost(i)">
            <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
  </div>
  <!-- AGREGAR POST -->
  <div *ngIf="currentView === 'add'">
    <form (ngSubmit)="addPost()">
      <ion-item>
        <ion-label position="floating">Título</ion-label>
        <ion-input type="text" [(ngModel)]="newPost.title" name="title" required></ion-input>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Contenido</ion-label>
        <ion-textarea [(ngModel)]="newPost.content" name="content" required></ion-textarea>
      </ion-item>
      <ion-item>
        <ion-label position="floating">Autor</ion-label>
        <ion-input type="text" [(ngModel)]="newPost.author" name="author" required></ion-input>
      </ion-item>
      <ion-button expand="block" type="submit" class="ion-margin-top">Agregar Publicación</ion-button>
    </form>
  </div>
</ion-content>
